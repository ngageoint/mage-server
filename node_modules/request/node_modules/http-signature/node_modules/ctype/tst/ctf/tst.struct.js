var mod_fs = require('fs');
var mod_ctype = require('../../ctype.js');
var mod_***REMOVED***ert = require('***REMOVED***ert');

function test()
{
	var data, parser;

	data = JSON.parse(mod_fs.readFileSync('./struct.json').toString());
	parser = mod_ctype.parseCTF(data, { endian: 'big' });
	mod_***REMOVED***ert.deepEqual(parser.lstypes(), { 'long': 'int32_t',
	    'time_t': 'long',
	    'timestruc_t': 'struct timespec',
	    'struct timespec': [ { 'tv_sec': { 'type': 'time_t' } },
	        { 'tv_nsec': { 'type': 'long' } } ] });
}

test();
