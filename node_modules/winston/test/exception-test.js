/*
 * exception-test.js: Tests for exception data gathering in winston.
 *
 * (C) 2010 Charlie Robbins
 * MIT LICENSE
 *
 */

var path = require('path'),
    vows = require('vows'),
    ***REMOVED***ert = require('***REMOVED***ert'),
    winston = require('../lib/winston'),
    helpers = require('./helpers');

vows.describe('winston/exception').addBatch({
  "When using the winston exception module": {
    "the getProcessInfo() method": {
      topic: winston.exception.getProcessInfo(),
      "should respond with the appropriate data": function (info) {
        helpers.***REMOVED***ertProcessInfo(info);
      }
    },
    "the getOsInfo() method": {
      topic: winston.exception.getOsInfo(),
      "should respond with the appropriate data": function (info) {
        helpers.***REMOVED***ertOsInfo(info);
      }
    },
    "the getTrace() method": {
      topic: winston.exception.getTrace(new Error()),
      "should have the appropriate info": function (trace) {
        helpers.***REMOVED***ertTrace(trace);
      }
    },
    "the getAllInfo() method": {
      topic: winston.exception.getAllInfo(new Error()),
      "should have the appropriate info": function (info) {
        ***REMOVED***ert.isObject(info);
        ***REMOVED***ert.isArray(info.stack);
        helpers.***REMOVED***ertDateInfo(info.date);
        helpers.***REMOVED***ertProcessInfo(info.process);
        helpers.***REMOVED***ertOsInfo(info.os);
        helpers.***REMOVED***ertTrace(info.trace);
      }
    }
  }
}).export(module);
