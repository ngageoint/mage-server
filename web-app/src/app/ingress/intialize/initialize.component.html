<div class="container">
  <div class="welcome">
    <div class="welcome__title">Admin Account Creation</div>
    <div class="welcome__message">Create an account to access and administor Mage</div>
  </div>

  <form class="form" [formGroup]="accountForm" (ngSubmit)="onInitialize()">
    <div>
      <mat-form-field appearance="fill">
        <mat-label>Username</mat-label>
        <input matInput placeholder="Username" formControlName="username" required>
        <mat-error>Username is required</mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field appearance="fill">
        <mat-label>Password</mat-label>
        <input matInput placeholder="Password" type="password" formControlName="password" required>
        <mat-error *ngIf="accountForm.controls.password.hasError('required')">Password is required</mat-error>
        <mat-error *ngIf="accountForm.controls.password.hasError('match')">Passwords must match</mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field appearance="fill">
        <mat-label>Confirm Password</mat-label>
        <input matInput placeholder="Confirm Password" type="password" formControlName="passwordconfirm" required>
        <mat-error *ngIf="accountForm.controls.passwordconfirm.hasError('required')">Password confirmation is required</mat-error>
      </mat-form-field>
    </div>

    <div class="password-strength">
      <div class="password-strength__text">
        <div class="mat-body-1">Password Strengh</div>
        <div class="mat-body-2">{{passwordStrength?.text}}</div>
      </div>
      <mat-progress-bar mode="determinate" [value]="passwordStrength?.value"></mat-progress-bar>
    </div>

    <div>
      <mat-form-field appearance="fill">
        <mat-label>Access Code</mat-label>
        <input matInput placeholder="Access Code" type="text" formControlName="accessCode" required>
        <mat-hint>This code will allow users to access Mage via the web client</mat-hint>
        <mat-error>Access code is required</mat-error>
      </mat-form-field>
    </div>

    <div class="actions">
      <button mat-flat-button color="primary" class="actions__button">Create Account</button>
    </div>

    <div *ngIf="error" class="error-container" [@slide]>
      <div class="error">
        <span class="material-symbols-outlined error__icon">sentiment_dissatisfied</span>
        <div class="error__message">
          <div>{{error?.title}}</div>
          <div>{{error?.message}}</div>
        </div>
      </div>
    </div>

  </form>
</div>