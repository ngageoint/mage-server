<section class="mat-typography">
    <admin-breadcrumb [breadcrumbs]="breadcrumbs"></admin-breadcrumb>
</section>
<section class="mat-typography">
    <mat-sidenav-container>
        <mat-sidenav [fixedInViewport]=true mode="side" [fixedTopGap]=125 opened>
            <!-- <ul class="nav nav-pills nav-stacked">
                <li [ngClass]="{active: pill === 'security'}"><a (click)="pill = 'security'"
                        href="javascript:void(0);">Security</a></li>
            </ul>
            <ul class="nav nav-pills nav-stacked">
                <li [ngClass]="{active: pill === 'banner'}"><a (click)="pill = 'banner'"
                        href="javascript:void(0);">Banner</a></li>
            </ul>
            <ul class="nav nav-pills nav-stacked">
                <li [ngClass]="{active: pill === 'disclaimer'}"><a (click)="pill = 'disclaimer'"
                        href="javascript:void(0);">Disclaimer</a></li>
            </ul> -->
            <mat-nav-list>
                <!-- <mat-list-item>
                    <a matLine (click)="pill = 'security'" href="javascript:void(0);">Security</a>
                </mat-list-item>
                <mat-list-item>
                    <a matLine (click)="pill = 'banner'" href="javascript:void(0);">Banner</a>
                </mat-list-item>
                <mat-list-item>
                    <a matLine (click)="pill = 'disclaimer'" href="javascript:void(0);">Disclaimer</a>
                </mat-list-item> -->
                <a mat-list-item (click)="pill = 'security'" href="javascript:void(0);">Security</a>
                <a mat-list-item (click)="pill = 'banner'" href="javascript:void(0);">Banner</a>
                <a mat-list-item (click)="pill = 'disclaimer'" href="javascript:void(0);">Disclaimer</a>
            </mat-nav-list>
        </mat-sidenav>
        <mat-sidenav-content>
            <div *ngIf="pill === 'security'">
                <h2 class="bottom-gap-l admin-settings-gap"><i class="fa fa-shield"></i> Security Settings</h2>
                <form (ngSubmit)="saveSecurity()" id="security-form">
                    <div *ngFor="let strategy of strategies">
                        <div class="row admin-settings-gap" style="padding-bottom: 25px;">
                            <mat-card>
                                <mat-card-title>{{strategy.name.toUpperCase()}} Authentication</mat-card-title>
                                <hr>
                                <mat-card-content class="admin-settings-gap">
                                    <div class="row">
                                        <mat-checkbox [(ngModel)]="strategy.enabled" [checked]="strategy.enabled"
                                            color="primary" name="enabledCheck">Enabled
                                        </mat-checkbox>
                                    </div>
                                    <div class="row">
                                        <mat-label>New User Accounts Require Admin Approval</mat-label>
                                    </div>
                                    <div class="row">
                                        <mat-label>New Devices Require Admin Approval</mat-label>
                                    </div>
                                    <div *ngIf="strategy.type == 'local'">
                                        <div class="row">
                                            <h4>Account Lock</h4>
                                            <hr>
                                        </div>
                                    </div>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                </form>
            </div>
            <div *ngIf="pill == 'banner'">
                <form (ngSubmit)="saveBanner()" id="banner-form">
                    <div class="row admin-settings-gap">
                        <span class="help-block">
                            MAGE can add a header and footer to all views. Below you can specify whether or not you
                            want a header and/or footer, text, text color and background color.
                        </span>
                    </div>
                    <div class="row admin-settings-gap">
                        <legend>Header</legend>
                        <mat-checkbox [(ngModel)]="banner.showHeader" [checked]="banner.showHeader" color="primary"
                            name="headerCheck">Show Header
                        </mat-checkbox>
                    </div>
                    <div class="row admin-settings-gap">
                        <mat-label for="headerText">Header Text</mat-label>
                        <mat-form-field dense appearance="outline" id="headerText">
                            <input matInput [(ngModel)]="banner.headerText" class="form-control" name="headerTextInput"
                                [disabled]="!banner.showHeader">
                        </mat-form-field>
                    </div>
                    <div class="row admin-settings-gap">
                        <mat-label for="headerTextColor">Header Text Color</mat-label>
                        <color-picker [hexColor]="banner.headerTextColor"
                            (onColorChanged)="colorChanged($event, 'headerTextColor')">
                        </color-picker>
                    </div>
                    <div class="row admin-settings-gap">
                        <mat-label for="headerBlackgroundColor">Header Background Color</mat-label>
                        <color-picker [hexColor]="banner.headerBackgroundColor"
                            (onColorChanged)="colorChanged($event, 'headerBackgroundColor')">
                        </color-picker>
                    </div>
                    <div class="row admin-settings-gap">
                        <legend>Footer</legend>
                        <mat-checkbox [(ngModel)]="banner.showFooter" [checked]="banner.showFooter" color="primary"
                            name="footerCheck">Show Footer
                        </mat-checkbox>
                    </div>
                    <div class="row admin-settings-gap">
                        <mat-label for="footerText">Footer Text</mat-label>
                        <mat-form-field dense appearance="outline" id="footerText">
                            <input matInput [(ngModel)]="banner.footerText" class="form-control" name="footerTextInput"
                                [disabled]="!banner.showFooter">
                        </mat-form-field>
                    </div>
                    <div class="row admin-settings-gap">
                        <mat-label for="footerTextColor">Footer Text Color</mat-label>
                        <color-picker [hexColor]="banner.footerTextColor"
                            (onColorChanged)="colorChanged($event, 'footerTextColor')">
                        </color-picker>
                    </div>
                    <div class="row admin-settings-gap">
                        <mat-label for="footerBackgroundColor">Footer Background Color</mat-label>
                        <color-picker [hexColor]="banner.footerBackgroundColor"
                            (onColorChanged)="colorChanged($event, 'footerBackgroundColor')">
                        </color-picker>
                    </div>
                    <div class="row admin-settings-gap">
                        <button mat-flat-button color="primary" id="save-banner-button" (click)="saveBanner()"><i
                                class="fa fa-check"></i> Save</button>
                    </div>
                </form>
            </div>
            <div *ngIf="pill == 'disclaimer'">
                <form (ngSubmit)="saveDisclaimer()" id="disclaimer-form">
                    <div class="row admin-settings-gap">
                        <span class="help-block">
                            MAGE can present a disclaimer after login. If the disclaimer is shown users will have to
                            accept to continue into MAGE. The disclaimer will be shown on all clients, i.e. Android,
                            iOS, and the Web.
                        </span>
                    </div>
                    <div class="row admin-settings-gap">
                        <legend>Disclaimer</legend>
                        <mat-checkbox [(ngModel)]="banner.showDisclaimer" [checked]="banner.showDisclaimer"
                            color="primary" name="disclaimerCheck">Show Disclaimer
                        </mat-checkbox>
                    </div>
                    <div class="row admin-settings-gap">
                        <mat-label for="disclaimerTitle">Disclaimer Title</mat-label>
                        <mat-form-field dense appearance="outline" id="disclaimerTitle">
                            <input matInput [(ngModel)]="banner.disclaimerTitle" class="form-control"
                                name="disclaimerTitleInput" [disabled]="!banner.showDisclaimer">
                        </mat-form-field>
                    </div>
                    <div class="row admin-settings-gap">
                        <mat-label for="disclaimerText">Disclaimer Text</mat-label>
                        <mat-form-field dense appearance="outline" id="disclaimerText">
                            <textarea matInput [(ngModel)]="banner.disclaimerText" class="form-control"
                                name="disclaimerTextInput" [disabled]="!banner.showDisclaimer"> </textarea>
                        </mat-form-field>
                    </div>
                    <div class="row admin-settings-gap">
                        <button mat-flat-button color="primary" id="save-disclaimer-button"
                            (click)="saveBisclaimer()"><i class="fa fa-check"></i> Save</button>
                    </div>
                </form>
            </div>
        </mat-sidenav-content>
    </mat-sidenav-container>
</section>