 <!DOCTYPE html>
<html ng-app="mage">
<head>
  <title>MAGE</title>

  <!-- Comment out the following line when running local -->
  <!--<base href="/mage/" />-->

  <link rel="shortcut icon" href="favicon.ico"/>
  <meta id="view" name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
<!--
  <link rel="stylesheet" href="vendor/jquery-ui/jquery-ui.css"/>
-->
  <link rel="stylesheet" href="vendor/jQuery-File-Upload/css/jquery.fileupload.css">
  <link rel="stylesheet" href="vendor/jQuery-File-Upload/css/jquery.fileupload-ui.css">
  <link rel="stylesheet" href="vendor/bootstrap/bootstrap.css" />
  <link rel="stylesheet" href="vendor/bootstrap/bootstrap-responsive.min.css"/>
  <link rel="stylesheet" href="vendor/jQuery-File-Upload/css/style.css">
  <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css"/>
  <link rel="stylesheet" href="css/icomoon.css"/>
  <link rel="stylesheet" href="vendor/leaflet/leaflet.css" />
  <link rel="stylesheet" href="vendor/leaflet/plugins/leaflet.awesomemarkers/leaflet.awesome-markers.css"/>
  <link rel="stylesheet" href="vendor/leaflet/plugins/leaflet.markercluster/MarkerCluster.css"/>
  <link rel="stylesheet" href="vendor/leaflet/plugins/leaflet.markercluster/MarkerCluster.Default.css"/>
  <link rel="stylesheet" href="vendor/leaflet/plugins/leaflet.control.sidebar/L.Control.Sidebar.css"/>
  <link rel="stylesheet" href="vendor/bootstrap-datepicker/css/datepicker.css"/>
  <link rel="stylesheet" href="vendor/bootstrap-timepicker/css/bootstrap-timepicker.min.css"/>
  <link rel="stylesheet" href="vendor/angular-plugins/ngQuickDate/ng-quick-date.css"/>
  <link rel="stylesheet" href="vendor/angular-plugins/ngQuickDate/ng-quick-date-plus-default-theme.css"/>
  <link rel="stylesheet" href="css/wtf-forms.css"/>
  <link rel="stylesheet" href="css/style.css"/>
  <link rel="stylesheet" href="css/map.css"/>

  <link rel="apple-touch-icon" href="img/touch-icon-iphone.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="img/touch-icon-ipad.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="img/touch-icon-iphone-retina.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="img/touch-icon-ipad-retina.png" />

  <!-- IE10 fix -->
  <script>
    (function() {
      L_PREFER_CANVAS = true;

      if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
        var msViewportStyle = document.createElement("style");
        msViewportStyle.appendChild(
          document.createTextNode("@-ms-viewport{width:auto!important}")
        );
        document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
      }
    })();
  </script>

</head>
<body>


  <script type="text/javascript" src="vendor/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="vendor/underscore/underscore-min.js"></script>
  <script type="text/javascript" src="vendor/angular/1.2.16/angular.js"></script>
  <script type="text/javascript" src="vendor/angular/1.2.16/angular-resource.js"></script>
  <script type="text/javascript" src="vendor/angular/1.2.16/angular-sanitize.min.js"></script>
  <script type="text/javascript" src="vendor/angular/1.2.16/angular-route.min.js"></script>

  <div cl***REMOVED***="navbar navbar-fixed-top" ng-controller="NavController">
    <div cl***REMOVED***="navbar-inner">
      <div cl***REMOVED***="container ng-cloak" ng-show="user">

        <a cl***REMOVED***="brand" href="#/">
          <i cl***REMOVED***="icon-magic icon-brand" style="margin-right:10px;"></i>MAGE
        </a>
        <ul cl***REMOVED***="nav pull-right" ng-show="user.myself">
          <li cl***REMOVED***="dropdown">
            <button data-toggle="dropdown" cl***REMOVED***="btn dropdown-toggle" href="#">
              <i cl***REMOVED***="icon-user"></i>
              {{user.myself.username}}
              <b cl***REMOVED***="caret"></b>
            </button>
            <ul cl***REMOVED***="dropdown-menu">
              <li>
                <a href="#/user">
                  <i cl***REMOVED***="icon-cog"></i>
                  My Profile
                </a>
              </li>
              <li>
                <a ng-click="logout()">
                  <i cl***REMOVED***="icon-off"></i>
                  Sign Out
                </a>
              </li>
            </ul>
          </li>
        </ul>

        <a cl***REMOVED***="btn btn-navbar" id="main-nav-collapse" data-toggle="collapse" data-target=".nav-collapse" ng-show="user.myself">
          <span cl***REMOVED***="icon-bar" style="color: #fff"></span>
          <span cl***REMOVED***="icon-bar" style="color: #000"></span>
          <span cl***REMOVED***="icon-bar"></span>
        </a>

        <div cl***REMOVED***="nav-collapse collapse">
          <ul id="main-nav" cl***REMOVED***="nav navbar-nav" ng-show="showMapNav()">
            <li ng-cl***REMOVED***="navCl***REMOVED***('map')">
              <a href="#/map">
                <i cl***REMOVED***="icon-map icon-spacer"></i> Map
              </a>
            </li>
            <li ng-cl***REMOVED***="navCl***REMOVED***('layers')" ng-show="showLayerNav()">
              <a href="#/layers">
                <i cl***REMOVED***="icon-layers icon-spacer"></i> Layer Manager
              </a>
            </li>
            <li ng-cl***REMOVED***="navCl***REMOVED***('admin')" ng-show="showAdminNav()">
              <a href="#/admin">
                <i cl***REMOVED***="icon-cogs icon-spacer"></i>  Admin Panel
              </a>
            </li>
            <li ng-cl***REMOVED***="navCl***REMOVED***('about')">
              <a href="#/about">
                <i cl***REMOVED***="icon-info icon-spacer"></i> About
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>


  <div data-ng-view></div>


  <script type="text/javascript" src="vendor/leaflet/leaflet-src.js"></script>
  <script type="text/javascript" src="vendor/leaflet/plugins/leaflet.awesomemarkers/leaflet.awesome-markers.min.js"></script>
  <script type="text/javascript" src="vendor/leaflet/plugins/leaflet.markercluster/leaflet.markercluster-src.js"></script>
  <script type="text/javascript" src="vendor/leaflet/plugins/leaflet.control.sidebar/L.Control.Sidebar.js"></script>
  <script type="text/javascript" src="vendor/ui-bootstrap/ui-bootstrap-0.6.0.js"></script>
  <script type="text/javascript" src="vendor/ui-bootstrap/ui-bootstrap-tpls-0.6.0.js"></script>

  <script type="text/javascript" src="vendor/angular-strap/js/angular-strap.js"></script>
  <script type="text/javascript" src="vendor/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
  <script type="text/javascript" src="vendor/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>
  <script type="text/javascript" src="vendor/angular-plugins/ngQuickDate/ng-quick-date.js"></script>


  <script type="text/javascript" src="vendor/angular-plugins/http-auth-interceptor.js"></script>
  <script type="text/javascript" src="vendor/bootstrap/bootstrap.min.js"></script>
  <script type="text/javascript" src="vendor/moment/moment.min.js"></script>
  <script type="text/javascript" src="js/app/leaflet/LocationMarker.js"></script>
  <script type="text/javascript" src="js/app/leaflet/LocationMarker.Popup.js"></script>
  <script type="text/javascript" src="js/app/leaflet/MageControls.js"></script>
  <script type="text/javascript" src="js/app/leaflet/SelectableMarker.js"></script>
  <script type="text/javascript" src="js/app/app.js"></script>
  <script type="text/javascript" src="js/app/directives/leaflet-directive.js"></script>
  <script type="text/javascript" src="js/app/directives/filter-navbar.js"></script>
  <script type="text/javascript" src="js/app/directives/observation.js"></script>
  <script type="text/javascript" src="js/app/directives/user-location.js"></script>
  <script type="text/javascript" src="js/app/directives/user-id.js"></script>
  <script type="text/javascript" src="js/app/directives/device-id.js"></script>
  <script type="text/javascript" src="js/app/directives/user-location-news-item.js"></script>
  <script type="text/javascript" src="js/app/directives/observation-news-item.js"></script>
  <script type="text/javascript" src="js/app/directives/attachment.js"></script>
  <script type="text/javascript" src="js/app/directives/map-clip.js"></script>
  <script type="text/javascript" src="js/app/directives/news-feed.js"></script>
  <script type="text/javascript" src="js/app/directives/export.js"></script>
  <script type="text/javascript" src="js/app/directives/filter.js"></script>
  <script type="text/javascript" src="js/app/directives/rotated-image.js"></script>
  <script type="text/javascript" src="js/app/directives/simpleUpload.js"></script>
  <script type="text/javascript" src="js/app/directives/form/field-directive.js"></script>
  <script type="text/javascript" src="js/app/directives/form/form-directive.js"></script>
  <script type="text/javascript" src="js/app/directives/form/import.js"></script>
  <script type="text/javascript" src="js/app/directives/property/property-view.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/ObservationService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/AboutService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/UserService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/DeviceService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/MapService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/FeatureService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/FilterService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/LocationService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/TimerService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/HttpAuthService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/mageLib.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/TimeBucketService.js"></script>
  <script type="text/javascript" src="js/app/***REMOVED***s/FormService.js"></script>
  <script type="text/javascript" src="js/app/controllers/AboutController.js"></script>
  <script type="text/javascript" src="js/app/controllers/AdminController.js"></script>
  <script type="text/javascript" src="js/app/controllers/MapController.js"></script>
  <script type="text/javascript" src="js/app/controllers/NavController.js"></script>
  <script type="text/javascript" src="js/app/controllers/LayerController.js"></script>
  <script type="text/javascript" src="js/app/controllers/FeatureController.js"></script>
  <script type="text/javascript" src="js/app/controllers/FormBuilderController.js"></script>
  <script type="text/javascript" src="js/app/controllers/SigninController.js"></script>
  <script type="text/javascript" src="js/app/controllers/SignupController.js"></script>
  <script type="text/javascript" src="js/app/controllers/UserController.js"></script>
  <script type="text/javascript" src="js/app/controllers/FormController.js"></script>

  <script type="text/javascript" src="js/app/resources/Feature.js"></script>
  <script type="text/javascript" src="js/app/resources/Layer.js"></script>
  <script type="text/javascript" src="js/app/resources/Form.js"></script>
  <script type="text/javascript" src="js/app/filters/moment.js"></script>
  <script type="text/javascript" src="js/app/filters/p***REMOVED***word.js"></script>


  <!-- file download -->
  <script type="text/javascript" src="vendor/jQuery-File-Download/js/jquery.fileDownload.js"></script>

    <script type="text/ng-template" id="myModalContent.html">
      <div cl***REMOVED***="modal-header">
          <h3>Token Expired, Please log in.</h3>
      </div>
      <div cl***REMOVED***="modal-body">
          <h3 cl***REMOVED***="top-gap-l">Mobile Analytic GEOINT Environment</h3>
      <form cl***REMOVED***="form">
        <div cl***REMOVED***="control-group">
          <label cl***REMOVED***="control-label" for="username">Username</label>
          <div cl***REMOVED***="controls">
            <input ng-model="username" name="username" type="text" autocapitalize="off"/>
          </div>
        </div>
        <div cl***REMOVED***="control-group">
          <label cl***REMOVED***="control-label" for="uid">UID</label>
          <div cl***REMOVED***="controls">
            <input ng-model="uid" name="uid" type="text" autocapitalize="off"/>
          </div>
        </div>
        <div cl***REMOVED***="control-group">
          <label cl***REMOVED***="control-label" for="p***REMOVED***word">P***REMOVED***word</label>
          <div cl***REMOVED***="controls">
            <input ng-model="p***REMOVED***word" name="p***REMOVED***word" type="p***REMOVED***word"/>
          </div>
        </div>
        <span>
          <button cl***REMOVED***="btn" ng-click="signin({username: username, uid: uid, p***REMOVED***word: p***REMOVED***word})" ngm-tap="signin({username: username, uid: uid, p***REMOVED***word: p***REMOVED***word})">Login</button>
        </span>
        <div cl***REMOVED***="top-gap-s alert alert-block" ng-show="status > 399">
          <h4>Failed login</h4>
          Please check your username, UID, and p***REMOVED***word and try again.
        </div>
      </form>
      </div>
    </script>

    <script type="text/ng-template" id="deleteLayer.html">
      <div cl***REMOVED***="modal-header">
        <h3>Please Confirm Delete '{{layer.name}}'</h3>
      </div>
      <div cl***REMOVED***="modal-body">
        <div cl***REMOVED***="row-fluid"><h4>Layer '{{layer.name}}' will be deleted.  <strong>This cannot be undone<strong>.  All data will be unrecoverable.</h4></div>
        <div cl***REMOVED***="row-fluid"><h4>Do you want to delete the layer '{{layer.name}}'?<h4></div>
        <span>
          <button cl***REMOVED***="btn btn-danger" ng-click="deleteLayer(layer, true)" ngm-tap="deleteLayer(layer, true)"><i cl***REMOVED***="icon-trash"> </i>Confirm Delete Layer</button>
          <button cl***REMOVED***="btn pull-right" ng-click="cancel()" ngm-tap="cancel()">Cancel</button>
        </span>
      </div>
    </script>

    <script type="text/ng-template" id="deleteForm.html">
      <div cl***REMOVED***="modal-header">
        <h3>Please Confirm Delete '{{form.name}}'</h3>
      </div>
      <div cl***REMOVED***="modal-body">
        <div cl***REMOVED***="row-fluid"><h4>Form '{{form.name}}' will be deleted.  <strong>This cannot be undone<strong>.  All data will be unrecoverable.</h4></div>
        <div cl***REMOVED***="row-fluid"><h4>Do you want to delete the form '{{form.name}}'?<h4></div>
        <span>
          <button cl***REMOVED***="btn btn-danger" ng-click="deleteForm(form, true)" ngm-tap="deleteForm(form, true)"><i cl***REMOVED***="icon-trash"> </i>Confirm Delete Form</button>
          <button cl***REMOVED***="btn pull-right" ng-click="cancel()" ngm-tap="cancel()">Cancel</button>
        </span>
      </div>
    </script>

</body>

</html>
