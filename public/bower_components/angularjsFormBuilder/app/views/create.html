<h1>Create a new form</h1> <br>
<blockquote>
    <p>Select field type you want to add to the form below and click on 'Add Field' button. Don't forget to set field properties. After you finish creating the form, you can preview the form by clicking Preview Form button.</p>
</blockquote>

<div cl***REMOVED***="well">
    <div cl***REMOVED***="form-fields" ng-hide="previewMode">
        <div cl***REMOVED***="form-properties">
            <h3>Form Properties</h3>
            <div cl***REMOVED***="row">
                <div cl***REMOVED***="span2">Form ID: </div>
                <div cl***REMOVED***="span4"><input type="text" name="form-id" ng-disabled="true" ng-model="form.form_id"></div>
            </div>
            <div cl***REMOVED***="row">
                <div cl***REMOVED***="span2">Form Name:</div>
                <div cl***REMOVED***="span4"><input type="text" name="form-name" ng-disabled="previewMode" ng-model="form.form_name"></div>
            </div>
        </div>

        <hr>

        <h3>Fields</h3>
        <div cl***REMOVED***="add-field">
            <select ng-model="addField.new" ng-options="type.name as type.value for type in addField.types"></select>
            <button type="submit" cl***REMOVED***="btn" ng-click="addNewField()"><i cl***REMOVED***="icon-plus"></i> Add Field</button>
        </div>
        <hr>
        <p ng-show="form.form_fields.length == 0">No fields added yet.</p>
        <accordion close-others="accordion.oneAtATime">
            <accordion-group heading="{{field.field_title}}" ng-repeat="field in form.form_fields">

                <div cl***REMOVED***="accordion-edit">
                    <button cl***REMOVED***="btn btn-danger pull-right" type="button" ng-click="deleteField(field.field_id)"><i cl***REMOVED***="icon-trash icon-white"></i> Delete</button>

                    <div cl***REMOVED***="row">
                        <div cl***REMOVED***="span2">Field ID: </div>
                        <div cl***REMOVED***="span4">{{field.field_id}}</div>
                    </div>
                    <div cl***REMOVED***="row">
                        <div cl***REMOVED***="span2">Field Type:</div>
                        <div cl***REMOVED***="span4">{{field.field_type}}</div>
                    </div>

                    <div cl***REMOVED***="clear"></div> <hr>

                    <div cl***REMOVED***="row">
                        <div cl***REMOVED***="span2">Field Title:</div>
                        <div cl***REMOVED***="span4"><input type="text" ng-model="field.field_title" value="{{field.field_title}}"></div>
                    </div>
                    <div cl***REMOVED***="row">
                        <div cl***REMOVED***="span2">Field Default Value:</div>
                        <div cl***REMOVED***="span4"><input type="text" ng-model="field.field_value" value="{{field.field_value}}"></div>
                    </div>
                    <div cl***REMOVED***="row" ng-show="showAddOptions(field)">
                        <div cl***REMOVED***="span2">Field Options:</div>
                        <div cl***REMOVED***="span6">
                            <div ng-repeat="option in field.field_options">
                                <input type="text" ng-model="option.option_title" value="{{option.option_title}}">
                                <a cl***REMOVED***="btn btn-danger btn-mini right" type="button" ng-click="deleteOption(field, option)"><i cl***REMOVED***="icon-minus icon-white"></i></a>
                                <span cl***REMOVED***="label label-inverse">Value: {{ option.option_value }}</span>
                            </div>
                            <button cl***REMOVED***="btn btn-primary btn-small" type="button" ng-click="addOption(field)"><i cl***REMOVED***="icon-plus icon-white"></i> Add Option</button>
                        </div>
                    </div>
                    <div cl***REMOVED***="row">
                        <div cl***REMOVED***="span2">Required:</div>
                        <div cl***REMOVED***="span4">
                            <label>
                                <input type="radio" ng-value="true" ng-selected ng-model="field.field_required"/>
                                &nbsp; Yes
                            </label>
                            <label>
                                <input type="radio" ng-value="false" ng-model="field.field_required"/>
                                &nbsp; No
                            </label>
                        </div>
                    </div>
                </div>
            </accordion-group>
        </accordion>

        <p cl***REMOVED***="text-center">
            <button cl***REMOVED***="btn btn-primary right" type="button" ng-click="previewOn()"><i cl***REMOVED***="icon-eye-open icon-white"></i> Preview Form</button>
            <button cl***REMOVED***="btn btn-danger right" type="button" ng-click="reset()"><i cl***REMOVED***="icon-refresh icon-white"></i> Reset</button>
        </p>

        <br><hr>
        <a ng-show="!showJson" ng-click="showJson = true">Show form json object</a>
        <a ng-show="showJson" ng-click="showJson = false">Hide form json object</a><br><br>
        <div ng-show="showJson">
            <h4>Form object content:</h4>
            <pre>{{ form | json }}</pre>
        </div>
    </div>

    <div cl***REMOVED***="form-fields-preview" ng-show="previewMode">
        <form-directive form="previewForm"></form-directive>

        <p cl***REMOVED***="text-center">
            <button cl***REMOVED***="btn btn-primary btn-large right" type="button" ng-click="previewOff()"><i cl***REMOVED***="icon-arrow-left icon-white"></i> Back to Create Mode</button>
        </p>
    </div>
</div>

