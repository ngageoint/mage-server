<div cl***REMOVED***="admin-nav-gap">
  <div cl***REMOVED***="container-fluid">
    <ol cl***REMOVED***="breadcrumb">
      <li><i cl***REMOVED***="fa fa-dashboard"></i><a href="#/admin">&nbsp;&nbsp;Dashboard</a></li>
      <li cl***REMOVED***="active">Devices</li>
    </ol>
  </div>
</div>

<div cl***REMOVED***="content-flex">

  <div cl***REMOVED***="content-inner">

    <div cl***REMOVED***="container">

      <div cl***REMOVED***="row">
        <div cl***REMOVED***="col-md-3">
          <ul cl***REMOVED***="nav nav-pills nav-stacked">
            <li ng-click="page = 0; filter='all'" ng-cl***REMOVED***="{active: filter=='all'}"><a href="javascript:void(0);">All <span cl***REMOVED***="badge pull-right">{{filteredDevices.length}}</span></a></li>
            <li ng-click="page = 0; filter='registered'" ng-cl***REMOVED***="{active: filter=='registered'}"><a href="javascript:void(0);">Registered <span cl***REMOVED***="badge pull-right">{{(filteredDevices | filter:{registered: true}).length}}</span></a></li>
            <li ng-click="page = 0; filter='unregistered'" ng-cl***REMOVED***="{active: filter=='unregistered'}"><a href="javascript:void(0);">Unregistered <span cl***REMOVED***="badge pull-right">{{(filteredDevices | filter:{registered: !true}).length}}</span></a></li>
          </ul>

          <hr>
          <form cl***REMOVED***="form">
            <div cl***REMOVED***="form-group">
              <label>Search</label>
              <input type="text" cl***REMOVED***="form-control" placeholder="device, username, user" ng-model="deviceSearch" ng-change="page=0">
            </div>
          </form>
          <hr>

          <button cl***REMOVED***="btn btn-default pull-right" ng-click="reset()">Reset</button>
        </div>

        <div cl***REMOVED***="col-md-9">
          <nav cl***REMOVED***="navbar navbar-default admin-dashboard-navbar">
            <div cl***REMOVED***="container-fluid">
              <div cl***REMOVED***="navbar-header">
                <a cl***REMOVED***="navbar-brand">Devices</a>
              </div>

              <form cl***REMOVED***="navbar-form navbar-right" role="search">
                <button type="submit" cl***REMOVED***="btn btn-default" ng-click="newDevice()">New Device</button>
              </form>
            </div>
          </nav>

          <div cl***REMOVED***="row">
            <div cl***REMOVED***="col-md-12">
              <div cl***REMOVED***="admin-table">
                <div cl***REMOVED***="well-item"
                    ng-repeat="d in (filteredDevices = (devices | filter:filterDevices)) | filter:filterRegistered | orderBy:'uid' | offset: page*itemsPerPage | limitTo:itemsPerPage" >

                    <div cl***REMOVED***="row pointer" ng-click="gotoDevice(d)">
                      <div cl***REMOVED***="col-md-8">
                        <div cl***REMOVED***="right-gap pull-left">
                          <i cl***REMOVED***="fa fa-mobile admin-device-icon"></i>
                        </div>
                        <span cl***REMOVED***="strong">{{d.uid}}</span>
                        <div cl***REMOVED***="muted" ng-if="userIdMap[d.userId]">{{userIdMap[d.userId].username}}</div>
                        <div cl***REMOVED***="muted" ng-if="true">{{d.name}}</div>

                      </div>
                      <div cl***REMOVED***="col-md-4">
                        <button cl***REMOVED***="btn btn-sm btn-danger pull-right admin-user-button" ng-click="deleteDevice($event, d)">Delete</button>
                        <button cl***REMOVED***="btn btn-sm btn-success pull-right admin-user-button" ng-if="!d.registered" ng-click="registerDevice($event, d)">Register</button>
                        <button cl***REMOVED***="btn btn-sm btn-default pull-right" ng-click="editDevice($event, d)">Edit</button>
                      </div>
                    </div>

                </div>
              </div>

              <div cl***REMOVED***="row">
                <div cl***REMOVED***="col-md-12">
                  <ul cl***REMOVED***="pager">
                    <li cl***REMOVED***="previous" ng-show="page != 0">
                      <a ng-click="page=page-1">&larr; Previous</a>
                    </li>
                    <li cl***REMOVED***="next" ng-show="page < (filteredDevices.length/itemsPerPage) - 1">
                      <a ng-click="page=page+1">Next &rarr;</a>
                    </li>
                  </ul>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
